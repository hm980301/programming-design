@[TOC](设计文档)
# 一、需求分析
## 1.可行性分析
	技术可行性：该项目采用了python爬取数据，并进行清洗和预处理，将清洗后的数据存到mysql数据库中，并进行数据分析，后端利用flask框架，前端用Echarts实现数据可视化。该项目的开发平台已成熟可行。
	市场可行性：该项目分析大众喜爱的书目，方便大家寻找流行的图书。
## 2.项目目标
	通过爬取豆瓣图书的出版社，出版时间，价格，星级，评分，评价人数以及简介等信息，向用户提供其查询的书籍的全面信息，并对各个国家出版图书数量，书籍评分分布，评论人数top10，图书出版时间，出版社分布，词频进行了统计并将其可视化。
# 二、功能设计
## 1.功能设计
（1）经典图书Top250推荐（可链接到豆瓣图书信息）
（2）词频统计
（3）出版社统计
（4）出版时间统计
（5）评论人数Top10统计
（6）评分分布统计
（7）国家分布统计
（8）应用技术展示
## 2.功能描述
	该项目提取豆瓣图书系统，并对其数据进行分析统计得出大众喜好的图书，并进行可视化展示，满足用户需求。
# 三、详细设计
## 1.爬虫爬取数据
	从豆瓣网爬取如下信息：
|书名|title|
|--|--|
|链接|link|
|国家|country|
|作者|author|
|翻译者|translator|
|出版社|publisher|
|出版时间|time|
|价格|price|
|星级|star|
|评分|score|
|评价人数|people|
|简介|comment|
	步骤：获取网页源代码-解析网页源代码-数据保存
## 2.数据清洗和预处理
	更改爬取有问题的数据，并存储到newbook.csv中
## 3.数据导入mysql
（1）搭建数据库doubanbook；
（2）建表：books;
|表名|含义|
|--|--|
|books|原始数据表|
|book_country_num|出版国家表|
|book_publisher_num|出版社表|
|book_presstime_num|出版时间表|
|book_people_title|评论人数top10数据表|
|book_score_num|评分数据表|
	步骤：搭建数据库-搭建表-建立连接-创建游标
## 4.数据分析
（1）建表：book_country_num
|表信息|含义|
|--|--|
|country|国家|
|num|数量|

（2）建表：book_publisher_num
|表信息|含义|
|--|--|
|publisher|出版社|
|num|数量|

（3）建表：book_presstime_num
|表信息|含义|
|--|--|
|press_time|出版时间|
|num|数量|

（4）建表：book_people_title
|表信息|含义|
|--|--|
|people|评论人数|
|title|书名|

（5）建表：book_score_num
|表信息|含义|
|--|--|
|score|评分|
|num|数量|
## 5.后端flask框架
	步骤：初始化，导入Flask库，定义Flask实例化对象-定义一个应用方法，并且route装饰器装饰-在main中，flask实例化对象调用run()方法，进行运行。
（1）index
（2）book
（3）score
（4）country
（5）peopletop10
（6）presstime
（7）publisher
（8）word
（9）technology
## 6.Echarts数据可视化
	基于HTML5，封装了 JS，一个开源的数据可视化工具。
![在这里插入图片描述](https://img-blog.csdnimg.cn/f0ea3e89acde4a309c04e993928c6bff.png)
# 五、开发环境
## 1.开发工具
（1）anaconda:python3.7
![在这里插入图片描述](https://img-blog.csdnimg.cn/346ac6647a4c41fa93aaa55c86dc7ba3.png)

（2）pycharm 专业版 2020
![在这里插入图片描述](https://img-blog.csdnimg.cn/fad8e13787d94dee8a219a0d37243b66.png)
（3）chrome 
![在这里插入图片描述](https://img-blog.csdnimg.cn/c42ec4bf81d64db9997d50d7c51b5ae5.png)

（4）MySQL 8.0

![在这里插入图片描述](https://img-blog.csdnimg.cn/1e0d0df4c5ad414790f4660838445aaa.png)


（5）MySQL Workbench
![在这里插入图片描述](https://img-blog.csdnimg.cn/2ec5380777d54592a0b136cb88169151.png)
## 2.项目结构
![在这里插入图片描述](https://img-blog.csdnimg.cn/f3dd318a49734c36b6da278de1f0d377.png)
|内容|含义|
|--|--|
|pachong|用于存放爬虫数据|
|static|存放css、js
|templates|前端|
|app|后端|
|dataclean|数据清洗预处理|
|spider|爬虫|


