@[TOC](目录)
# 一、后端：导入Flask模块
## 1.Flask构造函数
使用当前模块（__name __）的名称作为参数
```go
from flask import Flask,render_template
app = Flask(__name__)
```
## 2.Flask类的route()函数
它是一个装饰器，它告诉应用程序哪个URL应该调用相关的函数。
当在浏览器中打开web服务器的主页时，将呈现该函数的输出。
### （1）@app.route('/index')
```go
@app.route('/index')
def home():
    #return render_template("index.html")
    return index()
```
###  （2）@app.route('/book')
```go
def book():
    datalist  = []
    con = pymysql.connect(
        host='localhost',
        port=3306,
        user='root',
        passwd='19980301hM',
        db='doubanbook',
        charset='utf8'
    )
    cur = con.cursor()
    sql = "select * from books"
    data = cur.execute(sql)
    result=cur.fetchall()
    for item in result:
        datalist.append(item)
    cur.close()
    cur.close()
    print(datalist)
    return render_template("book.html", movies=datalist)
```
### （3）@app.route('/score')
```go
@app.route('/score')
def score():
    score = []  #评分
    num = []    #每个评分所统计出的电影数量
    conn = pymysql.Connect(
        host='localhost',
        port=3306,
        user='root',
        passwd='19980301hM',
        db='doubanbook',
        charset='utf8'
    )
    cur = conn.cursor()
    sql = "select * from book_score_num"
    data = cur.execute(sql)
    result = cur.fetchall()
    for item in result:
        score.append(str(item[0]))
        num.append(item[1])

    cur.close()
    conn.close()
    return render_template("score.html",score= score,num=num)
```
### （4）@app.route('/country')
```go
@app.route('/country')
def country():
    country = []  #评分
    num = []    #每个评分所统计出的电影数量
    conn = pymysql.Connect(
        host='localhost',
        port=3306,
        user='root',
        passwd='19980301hM',
        db='doubanbook',
        charset='utf8'
    )
    cur = conn.cursor()
    sql = "select * from book_country_num"
    data = cur.execute(sql)
    result = cur.fetchall()
    for item in result:
        country.append(str(item[0]))
        num.append(item[1])

    cur.close()
    conn.close()
    return render_template("country.html",country=country,num=num)
```
### （5）@app.route('/peopletop10')
```go
@app.route('/peopletop10')
def peopletop10():
    people = []  #评论人数
    title = []    #书名
    s=[]
    conn = pymysql.Connect(
        host='localhost',
        port=3306,
        user='root',
        passwd='19980301hM',
        db='doubanbook',
        charset='utf8'
    )
    cur = conn.cursor()
    sql = "select * from book_people_title"
    data = cur.execute(sql)
    result = cur.fetchall()
    for item in result:
        s.append(item)
        people.append(str(item[0]))
        title.append(item[1])

    cur.close()
    conn.close()
    return render_template("peopletop10.html", people=people,title=title)
```
### （6）@app.route('/presstime')
```go
@app.route('/presstime')
def presstime():
    year = []
    num = []
    s=[]
    conn = pymysql.Connect(
        host='localhost',
        port=3306,
        user='root',
        passwd='19980301hM',
        db='doubanbook',
        charset='utf8'
    )
    cur = conn.cursor()
    sql = "select * from book_presstime_num"
    data = cur.execute(sql)
    result = cur.fetchall()
    for item in result:
        s.append(item)
        year.append(str(item[0]))
        num.append(item[1])

    cur.close()
    conn.close()
    return render_template("presstime.html", year=year,num=num)
```
### （7）@app.route('/publisher')
```go
@app.route('/publisher')
def publisher():
    year = []
    num = []
    s=[]
    conn = pymysql.Connect(
        host='localhost',
        port=3306,
        user='root',
        passwd='19980301hM',
        db='doubanbook',
        charset='utf8'
    )
    cur = conn.cursor()
    sql = "select * from book_publisher_num"
    data = cur.execute(sql)
    result = cur.fetchall()
    for item in result:
        s.append(item)
        year.append(str(item[0]))
        num.append(item[1])

    cur.close()
    conn.close()
    return render_template("publisher.html", year=year,num=num)
```
### （8）@app.route('/word')
```go
@app.route('/word')
def word():
    return render_template("word.html")
```
### （9）@app.route('/technology')
```go
@app.route('/technology')
def team():
    return render_template("technology.html")
```
## 3.Flask类的run()方法
在本地开发服务器上运行应用程序
```go
if __name__ == '__main__':
    app.run()
```
# 二、前端：Echarts
前端结构如下：

```go
<!DOCTYPE html>
<html lang="en">

<head>
………………
</head>

<body>
………………
</body>

</html>
```


